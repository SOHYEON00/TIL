# CSR (Client Side Rendering) / SSR (Server Side Rendering) 개념 잡기

### 기존 웹 페이지 랜더링 방법
기본적으로 서버와 클라이언트로 나눠진다.
클라이언트는 보통 요청을 보내고 서버는 어떤 요청에 대해 어떤 정보를 내려줄지 정해서 적절한 html문서를 내려준 뒤, 클라이언트는 받은 html파일을 그린다.

#### 발생한 문제점
웹 성능이 좋아지고 정보의 양도 늘어감에 따라 요청/처리 과정이 많아져 서버는 부담, 클라이언트는 계속 재랜더링을 해야하므로 페이지 깜빡임이 발생한다.

이때 Ajax의 탄생으로 웹에서 비동기 처리가 가능하게 된다.
이후 url이 변경되더라도 새로운 html을 내려받고 싶지 않아 SPA(Single Page Application) 개념을 가져오게 된다. 
***
#### React
react는 spa 구현을 지원하는 라이브러리이고 csr방식으로 동작함. 

  
### CSR
csr은 서버에서 받은 html을 그리는 게 아니라 자기가 알아서 html을 먼저 그린다.

#### React에서의 CSR
리액트에서는 빌드할 때, 모든 리액트 코드를 하나의 자바스크립트 파일로 만들어줌. 그리고 유저가 처음 사이트를 들어오면, 먼저 비어있는 html을 response하고 클라이언트에서 번들파일을 읽고 돔을 처리해 화면에 그려줌. -> 클라이언트에서 변경된 url에 맞는 코드를 번들파일에서 찾아 그림

#### 단점
1. 서비스 크기가 커질수록 유저가 첫 화면을 보는 시간이 느리다. 
-> next.js를 통해 ssr + csr이 합쳐진 개념이 등장함. 혹은 url마다 번들.js를 만들면 좀 해결 (code splitting)

2. 검색엔진 최적화 문제 발생.
HTML 파일 기반으로 작동하는 검색엔진에서는 서버에서 받아온 HTML파일은 사실상 빈 파일이므로 검색엔진에 걸리는 것이 없다.

#### 장점
유저가 url을 이동해도 서버에서 새로 html을 받아오는게 아니고 client측에서 알아서 그리기 때문에 화면 깜빡임없이 앱과 같은 경험으로 웹사이트를 사용 가능하다.

CSR과 SSR을 적절히 합하여 사용하면 단점도 보완된 사이트를 만들 수 있다.




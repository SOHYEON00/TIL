# 브라우저 동작 방식

## 브라우저의 주요 기능

- 사용자가 선택한 자원(html, pdf, img)을 서버에 요청하고 브라우저에 표시한다.
- 자원의 주소는 url에 의해 정해진다.

## 브라우저의 인터페이스

- URI를 입력할 수 있는 주소 표시 줄
- 이전 버튼과 다음 버튼
- 북마크
- 새로 고침 버튼과 현재 문서의 로드를 중단할 수 있는 정지 버튼
- 홈 버튼

## 브라우저 기본 구조

![%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled.png)

### 1. 사용자 인터페이스

주소 표시줄, 이전/다음 버튼 등을 말한다.

요청한 페이지를 보여주는 창을 제외한 모든 부분

### 2. 브라우저 엔진

사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어한다. (보통 브라우저 렌더링 엔진으로 합해 말함)

주요 역할 : html 문서와 기타 자원의 웹페이지를 사용자의 장치에 상호작용적인 시각 표현으로 변환.

- 문서들 간의 보안 정책 강제, 노출되는 DOM 자료 구조를 구현한다.

### 3. ⭐️ 렌더링 엔진

요청한 콘텐츠(html)를 표시한다.  = 요청받은 html, css 파싱 후 화면에 표시

### 4. 통신

http 요청과 같은 네트워크 호출에 사용되며 플랫폼 별로 독립적인 인터페이스이다.

### 5. UI 백엔드

기본적인 장치를 그리며, 플랫폼에서 명시하지 않은 일반적인 인터페이스.

os 사용자 인터페이스 체계를 사용한다.

### 6. 자바스크립트 해석기

자바스크립트 코드를 해석.실행한다.

### 7. 자료 저장소

쿠키 등, 모든 종류의 자원을 하드 디스크에 저장할 때 사용된다.

ex) 브라우저가 지원하는 '웹 데이터베이스'

## 렌더링 엔진

- 역할 : 요청 받은 내용을 브라우저 화면에 표시
- 종류 : Gecko, Blink, Trident, Webkit

### 브라우저 렌더링 엔진 동작 과정

( 통신을 통해 요청한 html 문서를 얻고 다음의 과정을 진행함)

![%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%201.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%201.png)

1. **HTML, CSS 파싱**
    - 파싱?

        브라우저가 코드를 이해하고 사용할 수 있는 구조로 변환하는 것.

    - 파싱 이후
        - html 파서 → DOM 트리
        - css 파서 → CSSOM 트리
2. **렌더 트리 구축**
3. **렌더 트리 배치**

    = 각 노드가 화면의 정확한 위치에 표시되는 것을 의미한다.

4. **렌더 트리 그리기**

- 모두 점진적으로 진행된다.

    즉, 더 나은 사용자 경험을 위해 네트워크로부터 나머지 내용이 전송되길 기다리지 않고, 받은 것부터 먼저 파싱 → 배치 → 그리기 시작한다.

![%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%202.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%202.png)

## DOM (Document Object Model)

- html 문서의 객체 표현
- document  : 트리의 최상위 객체

![%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%203.png](%E1%84%87%E1%85%B3%E1%84%85%E1%85%A1%E1%84%8B%E1%85%AE%E1%84%8C%E1%85%A5%20%E1%84%83%E1%85%A9%E1%86%BC%E1%84%8C%E1%85%A1%E1%86%A8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%89%E1%85%B5%E1%86%A8%2080bd372f323a44deb0c10dc9585fed7a/Untitled%203.png)